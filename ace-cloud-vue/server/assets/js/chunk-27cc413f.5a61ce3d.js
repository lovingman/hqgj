(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27cc413f","chunk-1a2a092b","chunk-6653e56d","chunk-6d895580","chunk-2d20f926"],{"036f":function(e,t,a){"use strict";var r=a("fe0b"),i=a.n(r);i.a},"2b3d":function(e,t,a){"use strict";var r=a("6b83"),i=a.n(r);i.a},"423d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"see-box"},[a("el-dialog",{staticClass:"seeForm",attrs:{title:"查看",visible:e.lookVisible},on:{"update:visible":function(t){e.lookVisible=t},close:function(t){e.lookVisible=!1}}},[a("el-form",{attrs:{"label-width":"140px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"projectName",attrs:{label:"项目名称："}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.see.projectName,placement:"top-start"}},[a("span",[e._v(e._s(e.see.projectName))])])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目级别："}},[a("span",[e._v(e._s(e.see.projectLevel))])])],1),a("el-row",{staticStyle:{"margin-bottom":"0",width:"100%",float:"left"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目类型："}},[a("span",[e._v(e._s(e.see.category))])])],1),e.isShow?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"需对接志愿者数："}},[a("span",[e._v(e._s(e.see.peopleNumber))])])],1):e._e()],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"行政区划："}},[a("span",[e._v(e._s(e.see.areaName))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间："}},[a("span",[e._v(e._s(e.see.startTime))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间："}},[a("span",[e._v(e._s(e.see.endTime))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动积分:"}},[a("span",[e._v(e._s(e.see.jiFen))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"19积分:"}},[a("span",[e._v(e._s(e.see.nineteenJiFen))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开展次数："}},[a("span",[e._v(e._s(e.see.developNum))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"综合得分："}},[a("span",[e._v(e._s(e.see.score))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发现异常数："}},[a("span",[e._v(e._s(e.see.ycNum))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"参与总时长："}},[a("span",[e._v(e._s(e.see.volHour))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目状态："}},[a("span",[e._v(e._s(e.see.projectState))])])],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"imgForm"},[a("div",{staticClass:"lebel"},[e._v("相册封面：")]),e.see.fmUrl?a("div",{staticClass:"previewImg"},[a("img",{attrs:{src:e.see.fmUrl}}),a("div",{staticClass:"hidePrevie"},[a("i",{staticClass:"el-icon-zoom-in",on:{click:e.previeClick}})])]):a("div",[a("div",{staticClass:"hide-txt"},[e._v("未上传图片")])])])]),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"项目介绍:"}},[a("span",[e._v(e._s(e.see.summary))])])],1)],1),a("el-dialog",{staticClass:"imgShowDemo",attrs:{title:"图片预览",visible:e.previeVisible,"append-to-body":""},on:{"update:visible":function(t){e.previeVisible=t}}},[a("img",{attrs:{width:"100%",src:e.unitImageUrl}})]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.lookVisible=!1}}},[e._v("关闭")])],1)],1)],1)},i=[],o=(a("7f7f"),a("7514"),a("e04f")),s={props:{seeId:{type:String},seeRow:{type:Object},dictArrayObj:{type:Object}},watch:{seeId:{handler:function(e,t){e&&(this.id=e,this.initSee())},immediate:!0,deep:!0},seeRow:{handler:function(e,t){e&&(this.seeRows=e)},immediate:!0,deep:!0},dictArrayObj:{handler:function(e,t){this.initDictData(e)},immediate:!0,deep:!0}},name:"see",data:function(){return{see:{},seeRows:{},isShow:!1,unitImageUrl:"",lookVisible:!1,previeVisible:!1}},created:function(){this.initDictData()},methods:{initSee:function(){var e=this;Object(o["m"])(this.id).then(function(t){if(1==t.status){e.see=t.data,e.see.areaName=e.seeRows.areaName;var a=e.see.category,r=e.see.projectLevel,i=e.see.projectState;e.translateCategory(a,e.projectTypeArr),e.translateProjectLevel(r,e.projectLevelArr),e.translateStatus(i,e.statusValueArr),e.isShow=1!=a}})},translateCategory:function(e,t){var a={};a=t.find(function(t){return t.code==e}),this.see.category=a.name},translateProjectLevel:function(e,t){var a={};a=t.find(function(t){return t.code==e}),this.see.projectLevel=a.name},translateStatus:function(e,t){var a={};a=t.find(function(t){return t.code==e}),this.see.projectState=a.name},previeClick:function(){this.unitImageUrl=this.see.fmUrl,this.previeVisible=!0},initDictData:function(){this.projectTypeArr=this.dictArrayObj.projectValue,this.projectLevelArr=this.dictArrayObj.ProjectLevelValue,this.statusValueArr=this.dictArrayObj.statusValue}}},l=s,n=(a("2b3d"),a("2877")),c=Object(n["a"])(l,r,i,!1,null,"d2d10052",null);t["default"]=c.exports},4648:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"volunteer-box"},[a("el-dialog",{attrs:{title:"新增志愿者",visible:e.volunteerVisible,"before-close":e.closeDialog},on:{"update:visible":function(t){e.volunteerVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-col",[a("el-form-item",{staticStyle:{"font-size":"20px"},attrs:{label:"新增志愿者"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{clearable:"",placeholder:"请输入姓名或身份证号"},model:{value:e.zyz.name,callback:function(t){e.$set(e.zyz,"name",t)},expression:"zyz.name"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.queryzyz},slot:"append"},[e._v("排查")])],1)],1)],1)],1),[a("div",{staticClass:"zyz"},[a("el-table",{ref:"multipleTableVolunteer",staticStyle:{width:"100%"},attrs:{data:e.volunteer},on:{"selection-change":e.handleSelecetVolunteer}},[a("el-table-column",{attrs:{type:"selection",width:"55",center:""}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证",width:"220"}}),a("el-table-column",{attrs:{prop:"mobile",label:"联系方式",width:"200"}}),a("el-table-column",{attrs:{prop:"userTypeName",label:"志愿者类型"}})],1)],1)],a("el-pagination",{attrs:{"current-page":e.volunteerCurrentPage,"page-size":e.volunteerPagesize,total:e.volunteerTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleSizeVolunteer,"current-change":e.handleCurrentVolunteer}}),["1"==this.category?a("el-form",{ref:"zyz",attrs:{model:e.zyz,"label-width":"100%"}},[a("p",{staticStyle:{"font-size":"20px",color:"black",margin:"20px 0"}},[e._v("设定志愿者类型")]),a("el-radio-group",{model:{value:e.zyz.userType,callback:function(t){e.$set(e.zyz,"userType",t)},expression:"zyz.userType"}},[a("el-row",{staticStyle:{"margin-bottom":"20px","margin-left":"50px"}},[a("el-col",{attrs:{span:8}},[a("el-radio",{attrs:{label:1}},[e._v("心理咨询师")])],1),a("el-col",{attrs:{span:8}},[a("el-radio",{staticStyle:{"margin-left":"30px"},attrs:{label:2}},[e._v("法律工作者")])],1),a("el-col",{attrs:{span:8}},[a("el-radio",{staticStyle:{"margin-left":"30px"},attrs:{label:3}},[e._v("医护人员")])],1)],1),a("el-row",{staticStyle:{"margin-left":"50px"}},[a("el-col",{attrs:{span:8}},[a("el-radio",{attrs:{label:4}},[e._v("社会工作者")])],1),a("el-col",{attrs:{span:8}},[a("el-radio",{staticStyle:{"margin-left":"30px"},attrs:{label:5}},[e._v("教育工作者")])],1),a("el-col",{attrs:{span:8}},[a("el-radio",{staticStyle:{"margin-left":"30px"},attrs:{label:6}},[e._v("其他志愿者")])],1)],1)],1)],1):e._e()],a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.handleVolunteer("zyz")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddVolunteer}},[e._v("确 定")])],1)],2)],1)},i=[],o=(a("7f7f"),a("e04f")),s={props:{dictArrayObj:{type:Object},category:{type:String},zyzaidTargetType:{type:String},volunteercode:{type:String}},watch:{dictArrayObj:{handler:function(e,t){this.initDictData(e)},immediate:!0,deep:!0},volunteercode:{handler:function(e,t){this.areaCode=e,this.getVolunteerData()},immediate:!0,deep:!0},category:{handler:function(e,t){e&&(this.category=e)}},zyzaidTargetType:{handler:function(e,t){this.zyzaidTargetType=e},immediate:!0,deep:!0}},name:"volunteer",data:function(){return{volunteer:[],peopleValueArr:[],volunteerVisible:!1,volunteerCurrentPage:1,volunteerPagesize:10,volunteerTotal:0,zyz:{name:"",userType:""}}},methods:{handleSelecetVolunteer:function(e){this.volunteerArr=e},handleSizeVolunteer:function(e){this.volunteerPagesize=e,this.getVolunteerData()},handleCurrentVolunteer:function(e){this.volunteerCurrentPage=e,this.getVolunteerData()},saveAddVolunteer:function(){this.$emit("saveAddVolunteer")},handleVolunteer:function(e){this.zyz.name="",this.volunteerVisible=!1,this.getVolunteerData()},closeDialog:function(){this.zyz.name="",this.volunteerVisible=!1,this.getVolunteerData()},getVolunteerData:function(){var e=this,t={};t.pageNum=this.volunteerCurrentPage,t.pageSize=this.volunteerPagesize,t.totalRecord=this.volunteerTotal,t.name=this.zyz.name,t.areaCode=this.areaCode,this.volunteerCurrentPage=1,"1"==this.category&&6!=this.zyzaidTargetType?t.userType=this.zyzaidTargetType:t.userType="",Object(o["y"])(t).then(function(t){if(1==t.status&&(e.volunteer=t.rows,e.volunteerTotal=t.total,e.volunteer))for(var a=0;a<e.volunteer.length;a++)for(var r=0;r<e.peopleValueArr.length;r++)e.volunteer[a].userType==e.peopleValueArr[r].code&&(e.volunteer[a].userType=e.peopleValueArr[r].code,e.volunteer[a].userName=e.peopleValueArr[r].name)})},queryzyz:function(){this.getVolunteerData()},initDictData:function(){this.peopleValueArr=this.dictArrayObj.peopleValue}}},l=s,n=a("2877"),c=Object(n["a"])(l,r,i,!1,null,"067b84a4",null);t["default"]=c.exports},"577e":function(e,t,a){},"5cde":function(e,t,a){"use strict";var r=a("577e"),i=a.n(r);i.a},"6b83":function(e,t,a){},"97fa":function(e,t,a){"use strict";a.d(t,"g",function(){return i}),a.d(t,"h",function(){return o}),a.d(t,"f",function(){return s}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return n}),a.d(t,"a",function(){return c}),a.d(t,"d",function(){return d}),a.d(t,"e",function(){return u});var r=a("b775");function i(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/page",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/update",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/getById",method:"get",params:{id:e}})}function l(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/deleteById",method:"post",params:{id:e}})}function n(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/deleteByIds",method:"post",params:{ids:e}})}function c(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/create",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/exportXls",method:"get",params:e,responseType:"blob"})}function u(e){return Object(r["a"])({url:"/zcpa/www/reg/getAreaCode",method:"get",params:e})}},b1e1:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"see-box"},[a("el-dialog",{attrs:{title:"活动推送记录查看",visible:e.recordVisible},on:{"update:visible":function(t){e.recordVisible=t},close:function(t){e.recordVisible=!1}}},[a("el-form",{attrs:{"label-width":"140px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"活动主题："}},[a("span",[e._v(e._s(e.see.title))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间："}},[a("span",[e._v(e._s(e.see.startTime))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间："}},[a("span",[e._v(e._s(e.see.endTime))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动地点："}},[a("span",[e._v(e._s(e.see.areaCode))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人姓名："}},[a("span",[e._v(e._s(e.see.contactName))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人电话："}},[a("span",[e._v(e._s(e.see.contactTel))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所在区域："}},[a("span",[e._v(e._s(e.see.areaName))])])],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"活动详情："}},[a("span",[e._v(e._s(e.see.content))])])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.personnelData,border:""}},[a("el-table-column",{attrs:{type:"index",width:"55",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"name",width:"120",label:"姓名"}}),a("el-table-column",{attrs:{prop:"mobile",width:"180",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"userName",width:"120",label:"所属类型"}}),a("el-table-column",{attrs:{prop:"areaName",label:"所在地区"}})],1),a("el-pagination",{attrs:{"current-page":e.currentPages,"page-size":e.pageSize,total:e.total,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleSize,"current-change":e.handleCurrent}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.recordVisible=!1}}},[e._v("关闭")])],1)],1)],1)},i=[],o=(a("7f7f"),a("e04f")),s={name:"seeActive",props:{seeByDada:{type:Object},category:{type:String},projectId:{type:String},areaCode:{type:String},targetId:{type:String},dictArrayObj:{type:Object}},watch:{seeByDada:{handler:function(e,t){this.see=e},immediate:!0,deep:!0},category:{handler:function(e,t){e&&(this.category=e)}},projectId:{handler:function(e,t){e&&(this.projectId=e)}},areaCode:{handler:function(e,t){e&&(this.areaCode=e)}},targetId:{handler:function(e,t){e&&(this.targetId=e)}},dictArrayObj:{handler:function(e,t){this.initDictData(e)},immediate:!0,deep:!0}},data:function(){return{recordVisible:!1,personnelData:[],peopleValueArr:[],currentPages:1,pageSize:10,total:0}},methods:{handleSize:function(e){this.pageSize=e,this.initPersonnel()},handleCurrent:function(e){this.currentPages=e,this.initPersonnel()},initPersonnel:function(){var e=this,t={};t.projectCategory=this.category,t.projectId=this.projectId,t.areaCode=this.areaCode,t.targetId=this.targetId,t.pageNum=this.currentPages,t.pageSize=this.pageSize,t.totalRecord=this.total,Object(o["t"])(t).then(function(t){if(1==t.status&&(e.personnelData=t.rows,e.total=t.total,e.currentPages=1,e.personnelData))for(var a=0;a<e.personnelData.length;a++)for(var r=0;r<e.peopleValueArr.length;r++)e.personnelData[a].userType==e.peopleValueArr[r].code&&(e.personnelData[a].userType=e.peopleValueArr[r].code,e.personnelData[a].userName=e.peopleValueArr[r].name)})},initDictData:function(){this.peopleValueArr=this.dictArrayObj.peopleValue}}},l=s,n=(a("d654"),a("2877")),c=Object(n["a"])(l,r,i,!1,null,"e179de8a",null);t["default"]=c.exports},b3cb:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"volunteer"},[a("el-dialog",{attrs:{title:e.titleName,visible:e.delzyzVisible},on:{"update:visible":function(t){e.delzyzVisible=t}}},[[a("div",{staticClass:"zyz"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.deleteVolunteerArr},on:{"selection-change":e.handleDeleteCheck}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证",width:"220"}}),a("el-table-column",{attrs:{prop:"mobile",label:"联系方式",width:"200"}}),a("el-table-column",{attrs:{prop:"userType",label:"志愿者类型"}})],1)],1)],a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.delzyzVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteVolunteers}},[e._v("删除")])],1)],2)],1)},i=[],o={props:{title:{type:String}},watch:{title:{handler:function(e,t){e&&(this.titleName=e)},immediate:!0,deep:!0}},name:"deleteVolunteer",data:function(){return{titleName:"",delzyzVisible:!1,deleteVolunteerArr:[]}},methods:{deleteVolunteers:function(){this.$emit("deleteVolunteers")},handleDeleteCheck:function(e){this.deleteCheck=e}}},s=o,l=a("2877"),n=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=n.exports},b50e:function(e,t,a){},d654:function(e,t,a){"use strict";var r=a("b50e"),i=a.n(r);i.a},e04f:function(e,t,a){"use strict";a.d(t,"n",function(){return i}),a.d(t,"m",function(){return o}),a.d(t,"x",function(){return s}),a.d(t,"j",function(){return l}),a.d(t,"h",function(){return n}),a.d(t,"w",function(){return c}),a.d(t,"p",function(){return d}),a.d(t,"f",function(){return u}),a.d(t,"r",function(){return h}),a.d(t,"y",function(){return p}),a.d(t,"z",function(){return m}),a.d(t,"e",function(){return b}),a.d(t,"g",function(){return f}),a.d(t,"b",function(){return g}),a.d(t,"a",function(){return y}),a.d(t,"s",function(){return v}),a.d(t,"u",function(){return j}),a.d(t,"q",function(){return C}),a.d(t,"k",function(){return z}),a.d(t,"o",function(){return S}),a.d(t,"v",function(){return w}),a.d(t,"c",function(){return x}),a.d(t,"l",function(){return T}),a.d(t,"i",function(){return V}),a.d(t,"d",function(){return k}),a.d(t,"t",function(){return D});var r=a("b775");function i(e){return Object(r["a"])({url:"/zcpa/actProject/page",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/zcpa/actProject/getByProjectId",method:"get",params:{id:e}})}function s(e,t){return Object(r["a"])({url:"/zcpa/actProject/updateProjectState",method:"post",params:{id:e,projectState:t}})}function l(e){return Object(r["a"])({url:"/zcpa/actProject/deleteById",method:"post",params:{id:e}})}function n(e){return Object(r["a"])({url:"/zcpa/actProject/create",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/zcpa/actProject/update",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/zcpa/actPerson/page?screening=1",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/zcpa/actFamilyTarget/create",method:"post",data:e})}function h(e){return Object(r["a"])({url:"/zcpa/actProjectTarget/create",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/zcpa/baseVolunteer/page?screening=1",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/zcpa/actFamilyVolunteer/update",method:"post",data:e})}function b(e){return Object(r["a"])({url:"/zcpa/actFamilyVolunteer/batchUpdate",method:"post",params:{ids:e}})}function f(e){return Object(r["a"])({url:"/zcpa/actFamilyTarget/deleteByIds",method:"post",params:{ids:e}})}function g(e){return Object(r["a"])({url:"/zcpa/actSchool/page",method:"get",params:e})}function y(e){return Object(r["a"])({url:"/zcpa/actProjectVolunteer/create",method:"post",data:e})}function v(e){return Object(r["a"])({url:"/zcpa/actProjectVolunteer/deleteByIds",method:"post",params:{ids:e}})}function j(e,t){return Object(r["a"])({url:"/zcpa/actProjectVolunteer/selectByProjectId",method:"get",params:{projectId:e,targetId:t}})}function C(e){return Object(r["a"])({url:"/zcpa/actProjectTarget/deleteByIds",method:"post",params:{ids:e}})}function z(e){return Object(r["a"])({url:"/zcpa/actProject/findVolunteerList",method:"get",params:e})}function S(e){return Object(r["a"])({url:"/zcpa/actProjectVolunteer/page",method:"get",params:e})}function w(e){return Object(r["a"])({url:"/zcpa/actProject/findVolunteerDockedList",method:"get",params:e})}function x(e){return Object(r["a"])({url:"/zcpa/actProjectTopic/create",method:"post",data:e})}function T(e){return Object(r["a"])({url:"/zcpa/actProjectTopic/getById",method:"get",params:{id:e}})}function V(e){return Object(r["a"])({url:"/zcpa/actProjectTopic/deleteByIds",method:"post",params:{ids:e}})}function k(e){return Object(r["a"])({url:"/zcpa/actProjectTopic/page",method:"get",params:e})}function D(e){return Object(r["a"])({url:"/zcpa/actProjectTopic/topicVolunteerList",method:"get",params:e})}},f375:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-row",{staticStyle:{padding:"0","margin-right":"-4px"},attrs:{gutter:24}},["4307"==this.areaCode?a("el-col",{attrs:{span:2}},[e.userBtn["/zcpa/project/create"]?a("el-button",{staticClass:"handle-del mr11",attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(null,"add")}}},[e._v(e._s(e.userBtn["/zcpa/project/create"]))]):e._e()],1):e._e(),"4307"==this.areaCode?a("el-col",{attrs:{offset:2,span:3}},[a("el-cascader",{staticClass:"handle-select mr11",attrs:{placeholder:"请选择行政区划",options:e.cityCountyOptions,props:e.areaCodeProps,clearable:"","change-on-select":"",filterable:""},model:{value:e.xzZoning,callback:function(t){e.xzZoning=t},expression:"xzZoning"}})],1):e._e(),"4307"!=this.areaCode?a("el-col",{attrs:{span:7}},[e._v(" ")]):e._e(),a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"handle-select mr11",attrs:{clearable:"",placeholder:"项目级别"},model:{value:e.query.projectLevel,callback:function(t){e.$set(e.query,"projectLevel",t)},expression:"query.projectLevel"}},e._l(e.projectLevelArr,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"handle-select mr11",attrs:{clearable:"",placeholder:"项目类型"},model:{value:e.query.category,callback:function(t){e.$set(e.query,"category",t)},expression:"query.category"}},e._l(e.projectTypeArr,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"handle-select mr11",attrs:{clearable:"",placeholder:"项目状态"},on:{change:e.changeState},model:{value:e.query.projectStateType,callback:function(t){e.$set(e.query,"projectStateType",t)},expression:"query.projectStateType"}},e._l(e.statusValueArr,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),a("el-col",{attrs:{span:3}},[a("el-date-picker",{staticClass:"handle-input mr10",attrs:{type:"date","picker-options":e.startTime,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"开始时间"},model:{value:e.query.startTime,callback:function(t){e.$set(e.query,"startTime",t)},expression:"query.startTime"}})],1),a("el-col",{attrs:{span:3}},[a("el-date-picker",{staticClass:"handle-input mr10",attrs:{type:"date","picker-options":e.endTime,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"结束时间"},model:{value:e.query.endTime,callback:function(t){e.$set(e.query,"endTime",t)},expression:"query.endTime"}})],1),a("el-col",{staticStyle:{padding:"0",float:"right","text-align":"right"},attrs:{span:2}},[a("el-button",{staticStyle:{"margin-right":"12px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),a("el-table",{ref:"multipleTable",staticClass:"table-main",attrs:{data:e.rows,border:"","max-height":"475"}},[a("el-table-column",{attrs:{type:"index",width:"55",label:"序号",align:"center"}}),a("el-table-column",{attrs:{prop:"projectName",label:"项目名称",width:"400"}}),a("el-table-column",{attrs:{prop:"categoryType",label:"项目类型",width:"150"}}),a("el-table-column",{attrs:{prop:"projectLevel",label:"项目级别",sortable:"",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.projectLevel?a("div",{attrs:{type:"text"}},[e._v("母项目")]):e._e(),"1"==t.row.projectLevel?a("div",{attrs:{type:"text"}},[e._v("子项目")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"areaName",label:"行政区划",sortable:"",width:"150"}}),a("el-table-column",{attrs:{type:"date","value-format":"yyyy-MM-dd",prop:"startTime",label:"开始时间",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"projectState",label:"状态",sortable:"",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.projectState?a("div",{staticClass:"orange",attrs:{type:"text"}},[e._v("待审核")]):e._e(),"2"==t.row.projectState?a("div",{staticClass:"green",attrs:{type:"text"}},[e._v("进行中")]):e._e(),"3"==t.row.projectState?a("div",{staticClass:"red",attrs:{type:"text"}},[e._v("未通过")]):e._e(),"4"==t.row.projectState?a("div",{staticClass:"gray",attrs:{type:"text"}},[e._v("已结束")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"240",align:"right","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.userBtn["/zcpa/project/docking"]&&"1"!=t.row.projectState&&"3"!=t.row.projectState?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDocking(t.row)}}},[e._v(e._s(e.userBtn["/zcpa/project/docking"]))]):e._e(),e.userBtn["/zcpa/project/docking"]&&"1"!=t.row.projectState&&"3"!=t.row.projectState?a("span",{staticClass:"strightline"},[e._v("|")]):e._e(),e.userBtn["/zcpa/project/declare"]&&"0"==t.row.projectLevel&&"2"==t.row.projectState?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleAdd(t.row,"declare")}}},[e._v(e._s(e.userBtn["/zcpa/project/declare"]))]):e._e(),e.userBtn["/zcpa/project/declare"]&&"0"==t.row.projectLevel&&"2"==t.row.projectState?a("span",{staticClass:"strightline"},[e._v("|")]):e._e(),e.userBtn["/zcpa/project/check"]&&"1"==t.row.projectState&&"4307"==t.row.userAreaCode?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleExamine(t.$index,t.row)}}},[e._v(e._s(e.userBtn["/zcpa/project/check"]))]):e._e(),e.userBtn["/zcpa/project/check"]&&"1"==t.row.projectState&&"4307"==t.row.userAreaCode?a("span",{staticClass:"strightline"},[e._v("|")]):e._e(),e.userBtn["/zcpa/project/update"]&&t.row.areaCode.includes(t.row.userAreaCode)&&"0"==t.row.projectLevel&&"2"==t.row.projectState||"1"==t.row.projectLevel&&"4"!=t.row.projectState?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleAdd(t.row,"edit")}}},[e._v(e._s(e.userBtn["/zcpa/project/update"]))]):e._e(),e.userBtn["/zcpa/project/update"]&&t.row.areaCode.includes(t.row.userAreaCode)&&"0"==t.row.projectLevel&&"2"==t.row.projectState||"1"==t.row.projectLevel&&"4"!=t.row.projectState?a("span",{staticClass:"strightline"},[e._v("|")]):e._e(),e.userBtn["/zcpa/project/delect"]?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(e._s(e.userBtn["/zcpa/project/delect"]))]):e._e(),e.userBtn["/zcpa/project/delect"]?a("span",{staticClass:"strightline"},[e._v("|")]):e._e(),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleLook(t.$index,t.row)}}},[e._v("详情")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pagesize,total:e.total,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{staticClass:"examine",attrs:{title:"审核",visible:e.examineVisible},on:{"update:visible":function(t){e.examineVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.updateState,"label-width":"100%"}},[a("p",{staticStyle:{"line-height":"50px","text-align":"center","font-size":"20px"}},[e._v("该志愿服务项目是否通过")]),a("div",{staticStyle:{"text-align":"center"}},[a("el-radio-group",{staticStyle:{"text-align":"center"},model:{value:e.updateState.projectState,callback:function(t){e.$set(e.updateState,"projectState",t)},expression:"updateState.projectState"}},[a("el-radio",{attrs:{label:2}},[e._v("通过")]),a("el-radio",{attrs:{label:3}},[e._v("不通过")])],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.examineVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveExamine}},[e._v("确 定")])],1)],1),a("basic",{ref:"basicData",attrs:{dictArrayObj:e.dictArrayObj,submitType:e.submitType,cityCountyOptions:e.cityCountyOptions,title:e.titleName,byIdData:e.byIdData},on:{totalSubmit:e.totalSubmit}}),a("el-dialog",{attrs:{title:"情暖家庭对接",visible:e.familyVisible},on:{"update:visible":function(t){e.familyVisible=t},close:function(t){return e.emptyForm("familyForm")}}},[a("el-form",{ref:"familyForm",staticClass:"editForm",attrs:{model:e.familyForm,inline:!0,"label-width":"140px"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleTabClick},model:{value:e.familyName,callback:function(t){e.familyName=t},expression:"familyName"}},[a("el-tab-pane",{attrs:{label:"被服务对象对接",name:"first"}},[a("el-row",["4"!=this.projectState?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"areaCode"}},[a("el-cascader",{staticClass:"handle-select",attrs:{placeholder:"请选择行政区划",options:e.areaCodeOptions,props:e.areaCodeProps,disabled:e.disabledInput,clearable:"","change-on-select":"",filterable:""},on:{change:e.changeAreaCode},model:{value:e.familyForm.areaCode,callback:function(t){e.$set(e.familyForm,"areaCode",t)},expression:"familyForm.areaCode"}})],1)],1):e._e(),"4"!=this.projectState?a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"font-size":"20px"},attrs:{label:"新增被服务对象",prop:"personName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入姓名或身份证号"},model:{value:e.familyForm.personName,callback:function(t){e.$set(e.familyForm,"personName",t)},expression:"familyForm.personName"}},[e.userBtn["/zcpa/project/screen"]?a("el-button",{attrs:{slot:"append",disabled:e.disabledState},on:{click:e.querybfw},slot:"append"},[e._v(e._s(e.userBtn["/zcpa/project/screen"]))]):e._e()],1)],1)],1):e._e(),"4"!=this.projectState?a("el-col",{attrs:{span:2}},["4"!=this.projectState?a("el-button",{staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){return e.handledelbfw()}}},[e._v("删除")]):e._e()],1):e._e(),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading",data:e._f("filtersTwo")(e.bfwForm),border:""},on:{"selection-change":e.handleSelectionBox}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{staticClass:"zyz",attrs:{prop:"volunteerVo",label:"志愿者",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.volunteerVo,function(r,i){return i<4?a("el-button",{key:i,staticStyle:{"font-size":"15px",color:"black","min-width":"55px"},attrs:{type:"text",disabled:e.disabledState,icon:r.volunteerId?"":"el-icon-circle-plus-outline"},on:{click:function(a){return e.handleAddzyz(t.$index,t.row,r)}}},[e._v(e._s(r.volunteerId?r.name:r.aidTargetName))]):e._e()}),a("i",{staticStyle:{"border-left":"1px solid black","margin-left":"10px","margin-right":"10px"}}),a("el-button",{staticStyle:{"font-size":"15px",color:"black"},attrs:{type:"text",disabled:e.disabledState,icon:"el-icon-delete"},on:{click:function(a){return e.handleVolunteer(t.$index,t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"targetName",label:"被服务对象",width:"100"}}),a("el-table-column",{attrs:{prop:"psex",label:"性别",width:"100"}}),a("el-table-column",{attrs:{prop:"pidCard",label:"身份证号",width:"200"}}),a("el-table-column",{attrs:{prop:"pcateogry",label:"类型",width:"110"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"200"}}),a("el-table-column",{attrs:{prop:"detailAddr",label:"现居地址",width:"200"}})],1),a("el-pagination",{attrs:{"current-page":e.handleServicePage,"page-size":e.serviceSzie,total:e.serviceTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleService,"current-change":e.handleServiceCurrent}})],1)],1),a("el-tab-pane",{attrs:{label:"已对接被服务对象",name:"second"}},["4"!=this.projectState?a("el-col",{attrs:{span:8}},[a("el-form-item",[a("el-cascader",{staticClass:"handle-select mr12",attrs:{placeholder:"请选择行政区划",options:e.areaCodeOptions,props:e.areaCodeProps,disabled:e.disabledInput,clearable:"","change-on-select":"",filterable:""},on:{"visible-change":e.cascaderServiceAreaCode},model:{value:e.familyForm.serviceAreaCode,callback:function(t){e.$set(e.familyForm,"serviceAreaCode",t)},expression:"familyForm.serviceAreaCode"}})],1)],1):e._e(),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e._f("filtersOne")(e.ydjbfwForm),border:""},on:{"selection-change":e.handleBfwCheck}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{prop:"actFamilyVolunteer",label:"操作",sortable:"",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.volunteerVo,function(t,r){return r<4?a("el-button",{key:r,staticStyle:{"font-size":"15px",color:"black",width:"55px"},attrs:{type:"text"}},[e._v(e._s(t.name))]):e._e()}),a("i",{staticStyle:{"border-left":"1px solid black","margin-left":"10px","margin-right":"10px"}}),a("el-button",{staticStyle:{"font-size":"15px",color:"black","text-align":"right"},attrs:{type:"text",icon:"el-icon-delete",disabled:e.disabledState},on:{click:function(a){return e.handleVolunteer(t.$index,t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"targetName",label:"被服务对象",width:"100"}}),a("el-table-column",{attrs:{prop:"psex",label:"性别",width:"100"}}),a("el-table-column",{attrs:{prop:"pidCard",label:"身份证号",width:"220"}}),a("el-table-column",{attrs:{prop:"pcateogry",label:"类型",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",sortable:"",width:"200"}}),a("el-table-column",{attrs:{prop:"detailAddr",label:"现居地址",sortable:"",width:"200"}})],1),a("el-pagination",{attrs:{"current-page":e.handleDockingPage,"page-size":e.dockingSize,total:e.dockingTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.dockingClick,"current-change":e.dockingClickCurrent}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancelArr("familyForm")}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{title:"本辖区被服务对象",visible:e.addbfwVisible,left:""},on:{"update:visible":function(t){e.addbfwVisible=t}}},[a("div",{staticClass:"table-height"},[a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.person,border:""},on:{"selection-change":e.handleAddBfw}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"personName",label:"姓名",border:"true"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"idCard",label:"身份证"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"phone",label:"联系方式"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"cateogry",label:"类型"}})],1)],1),a("el-pagination",{attrs:{"current-page":e.familyCurrentPage,"page-size":e.familyPagesize,total:e.familyTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleSizeFamily,"current-change":e.handleCurrentFamily}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addbfwVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addbfw}},[e._v("提交")])],1)],1),a("volunteer",{ref:"volunteerDialog",attrs:{volunteercode:e.volunteercode,category:e.category,zyzaidTargetType:e.zyzaidTargetType,dictArrayObj:e.dictArrayObj},on:{saveAddVolunteer:e.saveAddVolunteer}}),a("el-dialog",{attrs:{title:"护安校园对接",visible:e.campusVisible},on:{"update:visible":function(t){e.campusVisible=t},close:function(t){return e.emptyForm("campusForm")}}},[a("el-form",{ref:"campusForm",staticClass:"editForm",attrs:{model:e.campusForm,inline:!0,"label-width":"140px"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleActiveClick},model:{value:e.campusName,callback:function(t){e.campusName=t},expression:"campusName"}},[a("el-tab-pane",{attrs:{label:"被服务对象对接",name:"first"}},["4"!=this.projectState?a("el-row",{staticStyle:{"margin-bottom":"0"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"areaCode"}},[a("el-cascader",{staticClass:"handle-select",attrs:{placeholder:"请选择行政区划",options:e.areaCodeOptions,props:e.areaCodeProps,clearable:"","change-on-select":"",filterable:""},on:{change:e.changeCampus},model:{value:e.campusForm.areaCode,callback:function(t){e.$set(e.campusForm,"areaCode",t)},expression:"campusForm.areaCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticStyle:{"font-size":"20px"},attrs:{label:"新增服务学校",prop:"schoolName"}},[a("el-input",{attrs:{clearable:"",placeholder:"学校名称"},model:{value:e.campusForm.schoolName,callback:function(t){e.$set(e.campusForm,"schoolName",t)},expression:"campusForm.schoolName"}},[e.userBtn["/zcpa/project/screen"]?a("el-button",{attrs:{slot:"append"},on:{click:e.queryschool},slot:"append"},[e._v(e._s(e.userBtn["/zcpa/project/screen"]))]):e._e()],1)],1)],1),a("el-col",{attrs:{span:2}},["4"!=this.projectState?a("el-button",{staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){return e.handledelCampus()}}},[e._v("删除")]):e._e()],1)],1):e._e(),a("el-row",[a("el-col",{attrs:{span:2}},[e.userBtn["/zcpa/project/push"]&&"4"!=this.projectState?a("el-button",{staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){return e.activityPush()}}},[e._v(e._s(e.userBtn["/zcpa/project/push"]))]):e._e()],1)],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.schoolForm,border:""},on:{"selection-change":e.handleSchoolBox}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{prop:"targetName",label:"校园名称",width:"150"}}),a("el-table-column",{staticClass:"zyz",attrs:{prop:"actProjectVolunteer",label:"志愿者",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"font-size":"15px"},attrs:{type:"text"},on:{click:function(a){return e.handleSeeschoolzyz(t.$index,t.row)}}},[e._v("查看")]),e._l(t.row.volunteerVo,function(t,r){return r<3?a("el-button",{key:r,staticClass:"volunteer-number",staticStyle:{"font-size":"15px",color:"black",width:"55px"},attrs:{type:"text"}},[e._v(e._s(t.name))]):e._e()}),t.row.volunteerVo.length>3?a("div",{staticClass:"tips",staticStyle:{display:"inline-block",padding:"0 10px 0 0",position:"relative",top:"-3px"}},[e._v("...")]):e._e(),a("el-button",{staticStyle:{"font-size":"15px",color:"black"},attrs:{type:"text",disabled:e.disabledState,icon:"el-icon-circle-plus-outline"},on:{click:function(a){return e.handleAddzyz(t.$index,t.row)}}},[e._v("管理")]),a("i",{staticStyle:{"border-left":"1px solid black","margin-left":"10px","margin-right":"10px"}}),a("el-button",{staticStyle:{"font-size":"15px",color:"black"},attrs:{type:"text",disabled:e.disabledState,icon:"el-icon-delete"},on:{click:function(a){return e.handleVolunteer(t.$index,t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"detailAddr",label:"地址",width:"200"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}})],1),a("el-pagination",{attrs:{"current-page":e.handleServicePage,"page-size":e.serviceSzie,total:e.serviceTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleService,"current-change":e.handleServiceCurrent}})],1),a("el-tab-pane",{attrs:{label:"活动推送记录",name:"second"}},[a("el-row",[a("el-col",{attrs:{span:3}},["4"!=this.projectState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchDelete(null)}}},[e._v("批量删除")]):e._e()],1)],1),a("div",{staticClass:"record-box"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.recordData},on:{"selection-change":e.handeleActiveCheck}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"title",label:"活动主题",width:"180"}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",width:"180"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",width:"180"}}),a("el-table-column",{attrs:{prop:"areaCode",label:"活动地点",width:"150"}}),a("el-table-column",{attrs:{prop:"contactTel",label:"联系方式",width:"120"}}),a("el-table-column",{attrs:{prop:"volunteerNum",label:"志愿者数",width:"120"}}),a("el-table-column",{attrs:{prop:"createDate",label:"消息推送时间",width:"180"}}),a("el-table-column",{attrs:{prop:"statusName",label:"推送状态",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.seeCurrent(t.row)}}},[e._v("查看")]),e.isDelete?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.batchDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":e.handleRecordPage,"page-size":e.RecordSzie,total:e.RecordTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleRecord,"current-change":e.handleRecordCurrent}})]],2)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancelArr("campusForm")}}},[e._v("取消")])],1)],1),a("active",{ref:"activeData",on:{submitForm:e.submitForm}}),a("el-dialog",{attrs:{title:"本辖区服务学校",visible:e.addschoolVisible,left:""},on:{"update:visible":function(t){e.addschoolVisible=t}}},[a("div",{staticClass:"table-height"},[a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.addschool,border:""},on:{"selection-change":e.handleAddSchool}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"schoolName",label:"校园名称",border:"true"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"detailAddr",label:"地址"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"phone",label:"联系方式"}})],1)],1),a("el-pagination",{attrs:{"current-page":e.schoolCurrentPage,"page-size":e.schoolPagesize,total:e.schoolTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleSizeSchool,"current-change":e.handleCurrentSchool}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addschoolVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addfwschool}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{title:"已对接志愿者",visible:e.SeeschoolVisible,left:""},on:{"update:visible":function(t){e.SeeschoolVisible=t}}},[a("div",{staticClass:"ydjizyzy"},[a("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.SeezyzData,border:""},on:{"selection-change":e.handleSeeVolunteere}},[a("el-table-column",{attrs:{type:"index",width:"55",label:"序号",align:"center"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"name",label:"姓名",border:"true"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"idCard",label:"身份证"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"mobile",label:"联系方式"}}),a("el-table-column",{staticStyle:{width:"50%"},attrs:{prop:"userName",label:"志愿者类型"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.SeeschoolVisible=!1}}},[e._v("关闭")])],1)]),a("el-dialog",{attrs:{visible:e.otherVisible,title:e.otherTitle},on:{"update:visible":function(t){e.otherVisible=t},close:function(t){return e.emptyForm("otherForm")}}},[a("el-form",{ref:"otherForm",staticClass:"editForm",attrs:{model:e.otherForm,inline:!0,"label-width":"140px"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleActiveClick},model:{value:e.otherName,callback:function(t){e.otherName=t},expression:"otherName"}},[a("el-tab-pane",{attrs:{label:"已对接志愿者",name:"first"}},["4"!=this.projectState?a("el-row",[a("el-col",{attrs:{span:3}},["4"!=this.projectState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAddzyz()}}},[e._v("添加志愿者")]):e._e()],1),a("el-col",{attrs:{span:4}},["4"!=this.projectState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteVolunteer()}}},[e._v("删除已对接志愿者")]):e._e()],1)],1):e._e(),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.otherTabData,border:""},on:{"selection-change":e.handleOtherBox}},[a("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号",width:"200"}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码",width:"180"}}),a("el-table-column",{attrs:{prop:"userType",label:"类型",width:"160"}}),a("el-table-column",{attrs:{prop:"createDate",label:"参与对接时间"}})],1),a("el-pagination",{attrs:{"current-page":e.handleOtherPage,"page-size":e.otherSize,total:e.otherTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleOtherSize,"current-change":e.handleOtherCurrent}})],1),a("el-tab-pane",{attrs:{label:"活动推送记录",name:"second"}},["4"!=this.projectState?a("el-row",[a("el-col",{attrs:{span:3}},[e.userBtn["/zcpa/project/push"]&&"4"!=this.projectState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.activityPush()}}},[e._v(e._s(e.userBtn["/zcpa/project/push"]))]):e._e()],1),a("el-col",{attrs:{span:3}},["4"!=this.projectState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.batchDelete(null)}}},[e._v("批量删除")]):e._e()],1)],1):e._e(),a("div",{staticClass:"record-box"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.recordData},on:{"selection-change":e.handeleActiveCheck}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"title",label:"活动主题",width:"180"}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",width:"180"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",width:"180"}}),a("el-table-column",{attrs:{prop:"areaCode",label:"活动地点",width:"150"}}),a("el-table-column",{attrs:{prop:"contactTel",label:"联系方式",width:"120"}}),a("el-table-column",{attrs:{prop:"volunteerNum",label:"志愿者数",width:"120"}}),a("el-table-column",{attrs:{prop:"createDate",label:"消息推送时间",width:"180"}}),a("el-table-column",{attrs:{prop:"statusName",label:"推送状态",width:"120"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.seeCurrent(t.row)}}},[e._v("查看")]),e.isDelete?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.batchDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":e.handleRecordPage,"page-size":e.RecordSzie,total:e.RecordTotal,background:"",layout:"total,sizes,prev, pager, next ,jumper"},on:{"size-change":e.handleRecord,"current-change":e.handleRecordCurrent}})]],2)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancelArr("otherForm")}}},[e._v("取消")])],1)],1),a("see",{ref:"seeData",attrs:{seeId:e.seeId,seeRow:e.seeRow,dictArrayObj:e.dictArrayObj}}),a("deleteVolunteers",{ref:"volunteerData",attrs:{title:e.titles},on:{deleteVolunteers:e.deleteVolunteers}}),a("seeActive",{ref:"seeDatas",attrs:{seeByDada:e.seeByDada,dictArrayObj:e.dictArrayObj,category:e.category,projectId:e.projectId,areaCode:e.areaCode,targetId:e.targetId}})],1)},i=[],o=a("db72"),s=(a("7514"),a("ac4d"),a("8a81"),a("ac6a"),a("7f7f"),a("e04f")),l=a("97fa"),n=a("acd6"),c=a("b3cb"),d=a("423d"),u=a("4648"),h=a("fc44"),p=a("b1e1"),m=a("6797"),b=a("2f62"),f={name:"basetable",components:{basic:n["default"],deleteVolunteers:c["default"],see:d["default"],volunteer:u["default"],active:h["default"],seeActive:p["default"]},data:function(){var e=this;return{areaCode:"",submitType:"",byIdData:{},seeByDada:{},xzZoning:[],campusAreaCode:[],currentPage:1,pagesize:10,total:0,schoolTotal:0,schoolPagesize:10,schoolCurrentPage:1,familyTotal:0,familyPagesize:10,familyCurrentPage:1,previeVisible:!1,schoolTargetID:"",projectState:"",disabledState:!1,isTips:!1,volunteerArr:"",rows:[],needNumll:"",bfwForm:[],ydjbfwForm:[],schoolForm:[],cityCountyOptions:[],disabledInput:!1,zyzaidTargetType:"",isDelete:!0,category:"",projectId:"",targetId:"",realNumber:"",recordData:[],isShow:!1,titleName:"",titles:"",familyVisible:!1,familyName:"first",handleServicePage:1,serviceSzie:10,serviceTotal:0,handleDockingPage:1,dockingSize:10,dockingTotal:0,handleOtherPage:1,otherSize:10,otherTotal:0,handleRecordPage:1,RecordSzie:10,RecordTotal:0,volunteercode:"",familyForm:{personName:"",areaCode:"",areaCodeType:"",maxLengthValue:"",serviceAreaCode:"",serviceAreaCodeType:"",maxLengthCode:""},campusVisible:!1,campusName:"first",campusForm:{areaCode:"",areaCodeType:"",schoolName:"",maxLengthValue:""},otherVisible:!1,otherTitle:"",otherName:"first",otherTabData:[],otherForm:{},loading:!1,person:[],addschool:[],volunteer:[],SeezyzData:[],projectTypeArr:[],examineVisible:!1,addbfwVisible:!1,addschoolVisible:!1,SeeschoolVisible:!1,areaCodeOptions:[],areaCodeProps:{value:"id",label:"text"},delbfwzyz:[],delschoolzyz:[],school:{areaCodeValue:"",areaCodeType:"",schoolName:"",maxLengthValue:""},bfw:{areaCodeValue:"",areaCodeType:"",personName:"",maxLengthValue:""},query:{startTime:"",endTime:"",region:"",areaCode:"",category:"",projectLevel:"",projectState:"",projectStateType:""},startTime:{disabledDate:function(t){if(e.query.endTime)return t.getTime()>new Date(e.query.endTime).getTime()}},endTime:{disabledDate:function(t){if(e.query.startTime)return t.getTime()<new Date(e.query.startTime).getTime()-864e5}},updateState:{projectState:2},hackReset:!0,bfwcreate:{actFamilyTarget:[]},schoolcreate:{actProjectTarget:[{areaCode:"",targetId:""}],projectId:""},zyz:{name:"",userType:""},zyzupdate:{id:"",areaCode:"",targetId:"",volunteerId:"",projectId:"",aidTargetType:""},zyzcreate:{actProjectVolunteer:[{areaCode:"",volunteerId:""}],targetId:"",projectId:""},otherzyzcreate:{actProjectVolunteer:[{areaCode:"",volunteerId:""}],projectId:""},idx:"",id:"",seeId:"",seeRow:{}}},created:function(){this.getinformation(),this.RegionCode(),this.initDictData(),this.InitializationCode()},methods:{getinformation:function(){var e=this;this.loading=!1,Object(l["e"])().then(function(t){1==t.status&&(e.loading=!0,e.areaCode=t.data.areaCode,e.areaName=t.data.areaName,e.volunteercode=t.data.areaCode,e.getData(),e.AreaCodeQuery(e.areaCode))})},handleQuery:function(){this.currentPage=1,this.getData()},handleSizeChange:function(e){this.pagesize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=this;this.query=Object.assign(this.query,{areaCode:this.areaCode,region:this.areaCodeObj,pageNum:this.currentPage,pageSize:this.pagesize,totalRecord:this.total}),this.loading=!0,Object(s["n"])(this.query).then(function(t){1==t.status&&(e.rows=e.formatDataList(t.rows),e.total=t.total,e.rows=e.UserAreaCode(t.rows))})},formatDataList:function(e){for(var t=this.projectTypeArr,a=0;a<e.length;a++)for(var r=0;r<t.length;r++)e[a].category==t[r].code&&(e[a].categoryType=t[r].name);return e},UserAreaCode:function(e){for(var t=0;t<e.length;t++)e[t].userAreaCode=this.areaCode;return e},search:function(){if("4307"==this.areaCode){var e=this.xzZoning;if(e.length>0){var t=!0,a=!1,r=void 0;try{for(var i,o=this.xzZoning[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;this.areaCodeObj=s}}catch(l){a=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}}else this.areaCodeObj=""}this.handleQuery()},changeState:function(e){this.statusValueArr.find(function(t){return t.code==e}),e&&(0==e?(this.query.projectState="",this.query.projectStateType="全部"):this.query.projectState=e)},totalSubmit:function(){var e=this;if(this.addsForm=this.$refs.basicData.addsForm,"add"==this.submitType&&(this.addsForm.projectLevel=0,Object(s["h"])(this.addsForm).then(function(t){1==t.status&&(e.$message.success("新增成功"),e.$emit("refreshSubcomponents"))})),"edit"==this.submitType){if(this.addsForm.peopleNumber<this.realNumber)return this.$message({message:"已添加了"+this.realNumber+"个志愿者,需对接志愿者数不能少于当前添加志愿者人数",type:"error"}),!1;Object(s["w"])(this.addsForm).then(function(t){1==t.status&&(e.$message.success("修改成功"),e.$emit("refreshSubcomponents"))})}"declare"==this.submitType&&Object(s["h"])(this.addsForm).then(function(t){1==t.status&&(e.$message.success("新增子项目成功"),e.$emit("refreshSubcomponents"))})},handleSizeSchool:function(e){this.schoolPagesize=e,this.getSchoolPage()},handleCurrentSchool:function(e){this.schoolCurrentPage=e,this.getSchoolPage()},getSchoolPage:function(){var e=this,t={};t.pageNum=this.schoolCurrentPage,t.pageSize=this.schoolPagesize,t.totalRecord=this.schoolTotal,t.areaCode=this.areaCode,Object(s["b"])(t).then(function(t){1==t.status&&(e.schoolTotal=t.total,e.addschool=t.rows)})},handleSizeFamily:function(e){this.familyPagesize=e,this.getFamilyPage()},handleCurrentFamily:function(e){this.familyCurrentPage=e,this.getFamilyPage()},getFamilyPage:function(){var e=this,t={};t.pageNum=this.familyCurrentPage,t.pageSize=this.familyPagesize,t.totalRecord=this.familyTotal,t.areaCode=this.familyForm.maxLengthValue,Object(s["p"])(t).then(function(t){1==t.status&&(e.schoolTotal=t.total,e.person=t.rows)})},handleDocking:function(e){this.loading=!0,this.projectId=e.id,this.category=e.category,this.projectState=e.projectState;var t=[],a=[4,6,9,12];"4"==this.projectState&&(this.isDelete=!1);for(var r=0;r<4;r++)t[r]=this.areaCode.substring(0,a[r]);for(var i=0,o=t;i<o.length;i++){var s=o[i];this.areaCodeArr=s}1==e.category&&(this.familyVisible=!0,this.familyName="first","4"==e.projectState?this.disabledState=!0:this.disabledState=!1,this.familyForm.areaCode=this.areaCode,this.familyForm.serviceAreaCode=this.areaCode,this.familyForm.maxLengthValue=this.areaCodeArr,this.getServicePage()),2==e.category&&(this.campusVisible=!0,this.campusName="first","4"==e.projectState?this.disabledState=!0:this.disabledState=!1,this.campusForm.areaCode=this.areaCode,this.campusForm.maxLengthValue=this.areaCodeArr,this.getServicePage()),3!=e.category&&4!=e.category&&5!=e.category&&6!=e.category||(this.otherVisible=!0,this.otherTitle="和事佬对接",this.otherName="first",this.getOtherPage()),4==e.category&&(this.otherTitle="法安沅澧对接"),5==e.category&&(this.otherTitle="心防工程对接"),6==e.category&&(this.otherTitle="巡逻守护对接")},getOtherPage:function(){var e=this,t={};t.pageNum=this.handleOtherPage,t.pageSize=this.otherSize,t.totalRecord=this.otherTotal,t.projectId=this.projectId,t.areaCode=this.areaCode,Object(s["o"])(t).then(function(t){1==t.status&&(e.loading=!1,e.otherTabData=t.rows,e.otherTotal=t.total,e.realNumber=t.total,e.InitializationCode())})},getServicePage:function(){var e=this,t={};t.pageNum=this.handleServicePage,t.pageSize=this.serviceSzie,t.totalRecord=this.serviceTotal,t.projectId=this.projectId,t.category=this.category,t.areaCode=this.areaCode,Object(s["k"])(t).then(function(t){1==t.status&&(e.loading=!1,1==e.category&&(e.bfwForm=e.initVolunteer(t.rows),e.serviceTotal=t.total,e.InitializationCode()),2==e.category&&(e.schoolForm=t.rows,e.serviceTotal=t.total))})},initVolunteer:function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e[t].volunteerVo.length;a++)null==e[t].volunteerVo[a].name&&(e[t].volunteerVo[a].volunteerId="");return e},handleActiveClick:function(e,t){"second"==e.name&&(this.category,this.activeList())},handleService:function(e){this.serviceSzie=e,this.getServicePage()},handleServiceCurrent:function(e){this.handleServicePage=e,this.getServicePage()},handleOtherSize:function(e){this.otherSize=e,this.getOtherPage()},handleOtherCurrent:function(e){this.handleOtherPage=e,this.getOtherPage()},handleRecord:function(e){this.RecordSzie=e,this.activeList()},handleRecordCurrent:function(e){this.handleRecordPage=e,this.activeList()},dockingService:function(){var e=this,t={};t.projectId=this.projectId,t.areaCode=this.areaCode,t.pageNum=this.handleDockingPage,t.pageSize=this.dockingSize,t.totalRecord=this.dockingTotal,Object(s["v"])(t).then(function(t){1==t.status&&(e.ydjbfwForm=t.rows,e.dockingTotal=t.total,e.InitializationCode())})},dockingClick:function(e){this.dockingSize=e,this.dockingService()},dockingClickCurrent:function(e){this.handleDockingPage=e,this.dockingService()},handleTabClick:function(e,t){this.tabName=e.name,"second"==e.name&&this.dockingService()},deleteVolunteer:function(){var e=this;if(this.otherBox&&this.otherBox.length){var t=this.otherBox,a=this.otherBox.map(function(e){return e.id}).join(",");t.length>0&&this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["s"])(a).then(function(t){1==t.status&&(e.handleOtherPage=1,e.$message.success("删除成功"),e.$refs.volunteerDialog.getVolunteerData(),e.getOtherPage(),e.getNeedNum())})})}else this.$message({message:"请勾选删除的数据！",type:"warning"})},querybfw:function(){var e=this,t={};t.areaCode=this.familyForm.maxLengthValue,t.personName=this.familyForm.personName,Object(s["p"])(t).then(function(t){1==t.status&&(e.person=t.rows,e.addbfwVisible=!0,e.familyTotal=t.total)})},addbfw:function(){var e=this;if(this.addBfwCheck&&this.addBfwCheck.length){for(var t=[],a=0;a<this.addBfwCheck.length;a++){var r={};r.areaCode=this.addBfwCheck[a].areaCode,r.personId=this.addBfwCheck[a].id,r.personName=this.addBfwCheck[a].personName,t.push(r)}this.bfwcreate.actFamilyTarget=t,this.bfwcreate.projectId=this.projectId,this.bfwcreate.areaCode=this.familyForm.maxLengthValue,this.addBfwCheck.length>0&&Object(s["f"])(this.bfwcreate).then(function(t){1==t.status&&(e.$message.success("新增服务对象成功"),e.addbfwVisible=!1,e.getServicePage())})}else this.$message.success("操作成功"),this.addbfwVisible=!1},handleAddzyz:function(e,t,a){this.$refs.volunteerDialog.volunteerVisible=!0,this.idx=e,1==this.category&&(this.zyzupdate.targetId=t.id,this.zyzAreaCode=t.areaCode,this.zyzupdate.id=a.id,this.zyzaidTargetType=a.aidTargetType,this.$refs.volunteerDialog.zyz.userType=parseInt(a.aidTargetType)),2==this.category&&(this.schoolTargetID=t.id,this.volunteerArr=t.volunteerVo.length),this.getNeedNum()},saveAddVolunteer:function(){var e=this;if(this.volunteerObj=this.$refs.volunteerDialog.volunteerArr,1==this.category)if(this.volunteerObj&&this.volunteerObj.length){var t=this.volunteerObj;t.length>0&&(1==t.length?(this.zyzupdate.areaCode=this.volunteerObj[0].areaCode,this.zyzupdate.volunteerId=this.volunteerObj[0].id,this.zyzupdate.aidTargetType=this.volunteerObj[0].userType,this.zyzupdate.projectId=this.projectId,Object(s["z"])(this.zyzupdate).then(function(t){1==t.status&&(e.$refs.volunteerDialog.volunteerVisible=!1,e.$message.success("新增志愿者成功"),e.$refs.volunteerDialog.getVolunteerData(),e.getServicePage())})):this.$message({type:"error",message:"当前操作,只能添加一个志愿者"}))}else{var a={};a.areaCode=this.zyzAreaCode,a.targetId=this.zyzupdate.targetId,a.id=this.zyzupdate.id,a.aidTargetType=this.$refs.volunteerDialog.zyz.userType,a.projectId=this.projectId,Object(s["z"])(a).then(function(t){1==t.status&&(e.$refs.volunteerDialog.volunteerVisible=!1,e.$message.success("设定志愿者类型成功"),e.$refs.volunteerDialog.getVolunteerData(),e.getServicePage())})}else if(2==this.category)if(this.volunteerObj){for(var r=[],i=0;i<this.volunteerObj.length;i++){a={};a.areaCode=this.volunteerObj[i].areaCode,a.volunteerId=this.volunteerObj[i].id,r.push(a)}this.zyzcreate.actProjectVolunteer=r,this.zyzcreate.projectId=this.projectId,this.zyzcreate.targetId=this.schoolTargetID,this.volunteerObj.length>this.needNumll?0==this.needNumll?this.$message({message:"志愿者已满",type:"error"}):this.$message({message:"还能添加"+this.needNumll+"个志愿者",type:"error"}):Object(s["a"])(this.zyzcreate).then(function(t){1==t.status&&(e.$message.success("新增志愿者成功"),e.$refs.volunteerDialog.volunteerVisible=!1,e.$refs.volunteerDialog.getVolunteerData(),e.getServicePage())})}else this.$message.success("操作成功"),this.$refs.volunteerDialog.volunteerVisible=!1;else if(this.volunteerObj&&this.volunteerObj.length){for(r=[],i=0;i<this.volunteerObj.length;i++){a={};a.areaCode=this.volunteerObj[i].areaCode,a.volunteerId=this.volunteerObj[i].id,r.push(a)}this.otherzyzcreate.actProjectVolunteer=r,this.otherzyzcreate.projectId=this.projectId,this.volunteerObj.length>this.needNumll?0==this.needNumll?this.$message({message:"志愿者已满",type:"error"}):this.$message({message:"还能添加"+this.needNumll+"个志愿者",type:"error"}):Object(s["a"])(this.otherzyzcreate).then(function(t){1==t.status&&(e.$message.success("新增志愿者成功"),e.loading=!1,e.$refs.volunteerDialog.volunteerVisible=!1,e.$refs.volunteerDialog.getVolunteerData(),e.getOtherPage())})}else this.$message.success("操作成功"),this.$refs.volunteerDialog.volunteerVisible=!1},handleVolunteer:function(e,t){if("1"==this.category?this.titles="删除已对接情暖家庭志愿者":"2"==this.category&&(this.titles="删除已对接护安校园志愿者"),this.$refs.volunteerData.delzyzVisible=!0,this.$refs.volunteerData.deleteVolunteerArr=t.volunteerVo,this.deleteVolunteerArrs=this.$refs.volunteerData.deleteVolunteerArr,this.formatData(t.volunteerVo),this.deleteVolunteerArrs)for(var a=0;a<this.deleteVolunteerArrs.length;a++)for(var r=0;r<this.peopleValueArr.length;r++)this.deleteVolunteerArrs[a].userType==this.peopleValueArr[r].code&&(this.deleteVolunteerArrs[a].userType=this.peopleValueArr[r].name)},formatData:function(e){for(var t=[],a=0;a<e.length;a++)e[a].volunteerId&&t.push(e[a]);this.$refs.volunteerData.deleteVolunteerArr=t},deleteVolunteers:function(){var e=this;if(this.deleteCheck=this.$refs.volunteerData.deleteCheck,this.deleteCheck&&this.deleteCheck.length){var t=this.deleteCheck;this.ids=this.deleteCheck.map(function(e){return e.id}).join(","),t.length>0&&this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"1"==e.category&&Object(s["e"])(e.ids).then(function(t){1==t.status&&(e.$message.success("删除成功"),e.$refs.volunteerDialog.getVolunteerData(),e.getServicePage(),e.dockingService())}),"2"==e.category&&Object(s["s"])(e.ids).then(function(t){1==t.status&&(e.$message.success("删除成功"),e.$refs.volunteerDialog.getVolunteerData(),e.getServicePage())}),"1"==e.category&&"2"==e.category||Object(s["s"])(e.ids).then(function(t){1==t.status&&(e.$message.success("删除成功"),e.getOtherPage())}),e.$refs.volunteerData.delzyzVisible=!1})}else this.$message({message:"请勾选删除的数据！",type:"warning"})},handledelbfw:function(){var e=this;if(this.selectBox&&this.selectBox.length){var t=this.selectBox,a=this.selectBox.map(function(e){return e.id}).join(",");t.length>0&&this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["g"])(a).then(function(t){1==t.status&&(e.handleServicePage=1,e.$message.success("删除成功"),e.getServicePage())})})}else this.$message({message:"请勾选删除的数据！",type:"warning"})},handledelCampus:function(){var e=this;if(this.schoolBox&&this.schoolBox.length){var t=this.schoolBox,a=this.schoolBox.map(function(e){return e.id}).join(",");t.length>0&&this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["q"])(a).then(function(t){1==t.status&&(e.handleServicePage=1,e.$message.success("删除成功"),e.getServicePage())})})}else this.$message({message:"请勾选删除的数据！",type:"warning"})},addfwschool:function(){var e=this;if(this.addSchollCheck&&this.addSchollCheck.length){for(var t=[],a=0;a<this.addSchollCheck.length;a++){var r={};r.areaCode=this.addSchollCheck[a].areaCode,r.targetId=this.addSchollCheck[a].id,t.push(r)}this.schoolcreate.actProjectTarget=t,this.schoolcreate.projectId=this.projectId,this.addSchollCheck.length>0&&Object(s["r"])(this.schoolcreate).then(function(t){1==t.status&&(e.$message.success("新增服务学校成功"),e.addschoolVisible=!1,e.getServicePage())})}else this.$message.success("操作成功"),this.addschoolVisible=!1},getNeedNum:function(){var e=this;Object(s["m"])(this.projectId).then(function(t){1==t.status&&(e.needNumll=t.data.needNum)})},handleSeeschoolzyz:function(e,t){var a=this;this.targetId=t.id,Object(s["u"])(this.projectId,this.targetId).then(function(e){if(a.SeezyzData=e,a.SeezyzData)for(var t=0;t<a.SeezyzData.length;t++)for(var r=0;r<a.peopleValueArr.length;r++)a.SeezyzData[t].userType==a.peopleValueArr[r].code&&(a.SeezyzData[t].userType=a.peopleValueArr[r].code,a.SeezyzData[t].userName=a.peopleValueArr[r].name)}),this.SeeschoolVisible=!0},queryschool:function(){var e=this,t={};t.schoolName=this.campusForm.schoolName,t.areaCode=this.campusForm.maxLengthValue,Object(s["b"])(t).then(function(t){1==t.status&&(e.addschool=t.rows,e.schoolTotal=t.total)}),this.addschoolVisible=!0},activityPush:function(){2==this.category?this.schoolBox&&this.schoolBox.length?this.$refs.activeData.activityVisible=!0:this.$message({message:"请先勾选学校！",type:"warning"}):this.$refs.activeData.activityVisible=!0},submitForm:function(){var e=this;if(this.activitysForm=this.$refs.activeData.activitysForm,this.activitysForm.projectCategory=this.category,this.activitysForm.projectId=this.projectId,this.activitysForm.currentAreaCode=this.areaCode,2==this.category){var t=this.schoolBox.map(function(e){return e.id}).join(",");this.activitysForm.targetId=t,Object(s["c"])(this.activitysForm).then(function(t){1==t.status&&(e.$message.success("推送成功"),e.$refs.activeData.activityVisible=!1,e.activeList())})}else Object(s["c"])(this.activitysForm).then(function(t){1==t.status&&(e.$message.success("推送成功"),e.$refs.activeData.activityVisible=!1,e.activeList())})},activeList:function(){var e=this,t={};t.projectId=this.projectId,t.category=this.category,t.pageNum=this.handleRecordPage,t.pageSize=this.RecordSzie,t.totalRecord=this.RecordTotal,t.currentAreaCode=this.areaCode,Object(s["d"])(t).then(function(t){if(1==t.status&&(e.recordData=t.rows,e.RecordTotal=t.total,e.recordData))for(var a=0;a<e.recordData.length;a++)"1"==e.recordData[a].status&&(e.recordData[a].statusName="成功"),"2"==e.recordData[a].status&&(e.recordData[a].statusName="失败")})},batchDelete:function(e){var t=this;if(e){var a=e.id;this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["i"])(a).then(function(e){1==e.status&&(t.$message.success("删除成功"),t.activeList())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}else{var r=this.activeCheck;r&&r.length>0?this.$confirm("确认删除选中的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t.activeCheck.map(function(e){return e.id}).join(",");Object(s["i"])(e).then(function(e){1==e.status&&(t.$message.success("删除成功"),t.activeList())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})}):this.$message({message:"请勾选删除的数据！",type:"warning"})}},seeCurrent:function(e){var t=this,a=e.id;this.targetId=e.targetId,Object(s["l"])(a).then(function(e){1==e.status&&(t.seeByDada=e.data,""==t.$refs.seeDatas.see.areaName&&(t.$refs.seeDatas.see.areaName=t.areaName),t.$refs.seeDatas.recordVisible=!0,t.$refs.seeDatas.initPersonnel())})},emptyForm:function(e){e&&(this.$refs[e].resetFields(),1==this.category&&(this.serviceSzie=10,this.handleServicePage=1),2==this.category&&(this.serviceSzie=10,this.handleServicePage=1,this.handleRecordPage=1,this.RecordSzie=10),"1"==this.category&&"2"==this.category||(this.handleRecordPage=1,this.RecordSzie=10))},cancelArr:function(e){var t=this;this.$nextTick(function(){t.$refs[e].resetFields()}),1==this.category&&(this.serviceSzie=10,this.handleServicePage=1),2==this.category&&(this.serviceSzie=10,this.handleServicePage=1,this.handleRecordPage=1,this.RecordSzie=10),"1"==this.category&&"2"==this.category||(this.handleRecordPage=1,this.RecordSzie=10),"familyForm"==e&&(this.familyVisible=!1),"campusForm"==e&&(this.campusVisible=!1),"otherForm"==e&&(this.otherVisible=!1)},InitializationCode:function(){if(this.bfwForm)for(var e=0;e<this.bfwForm.length;e++){for(var t=0;t<this.genderArr.length;t++)this.bfwForm[e].psex==this.genderArr[t].code&&(this.bfwForm[e].psex=this.genderArr[t].name);for(var a=0;a<this.serviceObjectArr.length;a++)this.bfwForm[e].pcateogry==this.serviceObjectArr[a].code&&(this.bfwForm[e].pcateogry=this.serviceObjectArr[a].name)}if(this.ydjbfwForm)for(var r=0;r<this.ydjbfwForm.length;r++)for(var i=0;i<this.genderArr.length;i++)this.ydjbfwForm[r].psex==this.genderArr[i].code&&(this.ydjbfwForm[r].psex=this.genderArr[i].name);if(this.otherTabData)for(var o=0;o<this.otherTabData.length;o++){for(var s=0;s<this.genderArr.length;s++)this.otherTabData[o].sex==this.genderArr[s].code&&(this.otherTabData[o].sex=this.genderArr[s].name);for(var l=0;l<this.peopleValueArr.length;l++)this.otherTabData[o].userType==this.peopleValueArr[l].code&&(this.otherTabData[o].userType=this.peopleValueArr[l].name)}},queryzyz:function(){this.getVolunteerData()},AreaCodeQuery:function(e){var t=this;Object(m["d"])({pid:e,type:1,hasSelf:"true"}).then(function(e){t.areaCodeOptions=e.data})},RegionCode:function(){var e=this,t=this.$store.getters.userProp;Object(m["d"])({pid:t.areaCode,type:3,hasSelf:"true"}).then(function(t){e.cityCountyOptions=t.data})},handleLook:function(e,t){this.$refs.seeData.lookVisible=!0,this.seeId=t.id,this.seeRow=t},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.idx=e,a.id=t.id,Object(s["j"])(a.id).then(function(e){1==e.status&&(a.currentPage=1,a.$message.success("删除成功"),a.getData())})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleSelectionBox:function(e){this.selectBox=e},handleAddBfw:function(e){this.addBfwCheck=e},handleBfwCheck:function(e){this.bfwCheck=e},handleSchoolBox:function(e){this.schoolBox=e},handleOtherBox:function(e){this.otherBox=e},handleAddSchool:function(e){this.addSchollCheck=e},handeleActiveCheck:function(e){this.activeCheck=e},handleSeeVolunteere:function(e){this.seeCheck=e},handleDeleteVolunteere:function(e){this.deleteCheck=e},saveExamine:function(){var e=this;Object(s["x"])(this.id,this.updateState.projectState).then(function(t){1==t.status&&(e.$message.success("审核成功"),e.examineVisible=!1,e.getData())})},handleExamine:function(e,t){this.idx=e,this.id=t.id,this.examineVisible=!0},handleAdd:function(e,t){var a=this;if("add"==t&&(this.submitType=t,this.titleName="创建",this.$refs.basicData.addVisible=!0,this.$refs.basicData.isEdit=!1,this.$refs.basicData.disableds=!1,this.$refs.basicData.hideUpload=!1,this.$refs.basicData.isLevel=!1,this.$refs.basicData.isAreaCode=!1,this.$refs.basicData.addsForm.SupstartTime="",this.$refs.basicData.addsForm.SupendTime="",this.$refs.basicData.addsForm.areaCode=this.areaCode),"edit"==t){if(this.titleName="编辑",this.submitType=t,this.id=e.id,this.category=e.category,this.$refs.basicData.addVisible=!0,this.$refs.basicData.isEdit=!0,this.$refs.basicData.isLevel=!0,this.$refs.basicData.isAreaCode=!0,this.$refs.basicData.disableds=!0,this.$refs.basicData.disabledAreaCode=!0,"1"==e.category?this.$refs.basicData.isShow=!1:this.$refs.basicData.isShow=!0,"2"==e.category){var r={};r.projectId=this.id,r.category=this.category,Object(s["k"])(r).then(function(e){if(1==e.status){a.realNumber=0;for(var t=0;t<e.rows.length;t++)a.realNumber+=e.rows[t].volunteerVo.length}})}"3"!=e.category&&"4"!=e.category&&"5"!=e.category&&"6"!=e.category||(this.projectId=e.id,this.getOtherPage()),Object(s["m"])(this.id).then(function(e){if(1==e.status){a.byIdData=e.data,a.byIdData.areaCodeArr=[];for(var t=[4,6],r=0;r<2;r++)a.byIdData.areaCodeArr[r]=a.byIdData.areaCode.substring(0,t[r])}})}if("declare"==t){var i=e.id,o=e.startTime,l=e.endTime;this.submitType=t,this.titleName="申报",this.$refs.basicData.hideUpload=!1,this.$refs.basicData.addVisible=!0,this.$refs.basicData.isEdit=!1,this.$refs.basicData.isLevel=!0,this.$refs.basicData.isAreaCode=!0,this.$refs.basicData.disableds=!0,"4307"==this.areaCode?this.$refs.basicData.disabledAreaCode=!1:this.$refs.basicData.disabledAreaCode=!0,"1"==e.category?this.$refs.basicData.isShow=!1:this.$refs.basicData.isShow=!0,Object(s["m"])(i).then(function(e){if(1==e.status){var t=e.data;a.$refs.basicData.addsForm.areaCode=a.areaCode,a.$refs.basicData.addsForm.areaCodeArr=[];for(var r=[4,6],s=0;s<2;s++)a.$refs.basicData.addsForm.areaCodeArr[s]=a.areaCode.substring(0,r[s]);a.$refs.basicData.addsForm.projectLevel="1",a.$refs.basicData.addsForm.pid=i,a.$refs.basicData.addsForm.category=t.category,a.$refs.basicData.addsForm.jiFen=t.jiFen,a.$refs.basicData.addsForm.SupstartTime=o,a.$refs.basicData.addsForm.SupendTime=l,a.$refs.basicData.addsForm.nineteenJiFen=t.nineteenJiFen}})}},refreshSubcomponents:function(){this.$emit("refreshSubcomponents")},initDictData:function(){this.genderArr=this.dictArrayObj.genderValue,this.projectTypeArr=this.dictArrayObj.projectValue,this.projectLevelArr=this.dictArrayObj.ProjectLevelValue,this.peopleValueArr=this.dictArrayObj.peopleValue,this.statusValueArr=this.dictArrayObj.statusValue,this.serviceObjectArr=this.dictArrayObj.serviceObjectValue},initUnitForm:function(e,t){if(e&&t){var a=this.globalMethods.findLongestWord([].concat(e));this.globalMethods.getCascaderObj(e,t);this.familyForm.areaCode=e,this.familyForm.maxLengthValue=a,this.familyForm.serviceAreaCode=e,this.familyForm.maxLengthCode=a,this.campusForm.areaCode=e,this.campusForm.maxLengthValue=a}},changeAreaCode:function(e){var t=this.globalMethods.findLongestWord([].concat(e));this.familyForm.areaCodeValue=e,this.familyForm.maxLengthValue=t},cascaderServiceAreaCode:function(e){if(!e){var t=this.globalMethods.findLongestWord([].concat(this.familyForm.serviceAreaCode));this.areaCode=t,this.dockingService()}},changeCampus:function(e){var t=this.globalMethods.findLongestWord([].concat(e));this.campusForm.areaCodeValue=e,this.campusForm.maxLengthValue=t}},filters:{filtersOne:function(e){var t=[];if(e)for(var a=0;a<e.length;a++){var r=e[a].volunteerVo;r[0].volunteerId&&r[1].volunteerId&&r[2].volunteerId&&r[3].volunteerId&&t.push(e[a])}return t},filtersTwo:function(e){var t=[];if(e)for(var a=0;a<e.length;a++){var r=e[a].volunteerVo;r[0].volunteerId&&r[1].volunteerId&&r[2].volunteerId&&r[3].volunteerId||t.push(e[a])}return t}},computed:Object(o["a"])({},Object(b["b"])(["dictArrayObj"]),{},Object(b["b"])(["userProp"]),{},Object(b["b"])(["userBtn"]))},g=f,y=(a("036f"),a("2877")),v=Object(y["a"])(g,r,i,!1,null,"6e097817",null);t["default"]=v.exports},fc44:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"active-box"},[a("el-dialog",{attrs:{title:"活动推送",visible:e.activityVisible},on:{"update:visible":function(t){e.activityVisible=t},close:function(t){return e.emptyForm("activitysForm")}}},[a("el-form",{ref:"activitysForm",staticClass:"activitysBox",attrs:{model:e.activitysForm,inline:!0,rules:e.activitysRules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"活动主题",prop:"title"}},[a("el-input",{attrs:{maxlength:"20",clearable:"","show-word-limit":"",placeholder:"请输入活动主题,字数在20字以内"},model:{value:e.activitysForm.title,callback:function(t){e.$set(e.activitysForm,"title",t)},expression:"activitysForm.title"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"datetime","picker-options":e.startPicker,clearable:"","default-time":"08:00:00",placeholder:"选择开始日期"},on:{change:function(t){return e.startChange()}},model:{value:e.activitysForm.startTime,callback:function(t){e.$set(e.activitysForm,"startTime",t)},expression:"activitysForm.startTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{attrs:{"picker-options":e.endPicker,clearable:"",disabled:e.isDisabled,type:"datetime",placeholder:"选择结束日期"},model:{value:e.activitysForm.endTime,callback:function(t){e.$set(e.activitysForm,"endTime",t)},expression:"activitysForm.endTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动地点",prop:"areaCode"}},[a("el-input",{staticClass:"address-right",attrs:{maxlength:"20",clearable:"","show-word-limit":"",placeholder:"请输入活动地点，字数在20字以内"},model:{value:e.activitysForm.areaCode,callback:function(t){e.$set(e.activitysForm,"areaCode",t)},expression:"activitysForm.areaCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人姓名",prop:"contactName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入联系人姓名"},model:{value:e.activitysForm.contactName,callback:function(t){e.$set(e.activitysForm,"contactName",t)},expression:"activitysForm.contactName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系人电话",prop:"contactTel"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入联系人电话"},model:{value:e.activitysForm.contactTel,callback:function(t){e.$set(e.activitysForm,"contactTel",t)},expression:"activitysForm.contactTel"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"活动详情",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:6,maxlength:"50",clearable:"","show-word-limit":"",placeholder:"请输入活动详情，字数在50字以内"},model:{value:e.activitysForm.content,callback:function(t){e.$set(e.activitysForm,"content",t)},expression:"activitysForm.content"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.cancelArr("activitysForm")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("activitysForm")}}},[e._v("提 交")])],1)],1)],1)},i=[],o={naem:"active",data:function(){return{isDisabled:!0,activityVisible:!1,startPicker:this.startPickers(),endPicker:this.endPickers(),activitysForm:{title:"",startTime:"",endTime:"",areaCode:"",contactName:"",contactTel:"",currentAreaCode:"",content:""},activitysRules:{title:[{required:!0,message:"请输入活动主题,字数在20字以内",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}],areaCode:[{required:!0,message:"请输入活动地点,字数在20字以内",trigger:"blur"}],contactName:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],contactTel:[{required:!0,message:"请输入联系人电话",trigger:"blur"},{validator:this.globalMethods.checkPhone,trigger:"blur"}],content:[{required:!0,message:"请输入活动详情，字数在50字以内",trigger:"blur"},{validator:this.globalMethods.checkTextareaone,trigger:"blur"}]}}},methods:{emptyForm:function(e){e&&this.$refs[e].resetFields()},startChange:function(){this.activitysForm.startTime&&(this.isDisabled=!1)},cancelArr:function(e){var t=this;this.$nextTick(function(){t.$refs[e].resetFields()}),this.activityVisible=!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$emit("submitForm")})},startPickers:function(){},endPickers:function(){var e=this;return{disabledDate:function(t){return e.activitysForm.startTime?new Date(e.activitysForm.startTime).getTime()-864e5>t.getTime():new Date(e.activitysForm.startTime).getTime()>t.getTime()}}}}},s=o,l=(a("5cde"),a("2877")),n=Object(l["a"])(s,r,i,!1,null,"3d9af27e",null);t["default"]=n.exports},fe0b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-27cc413f.5a61ce3d.js.map