<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.huacainfo.ace.hqgj.dao.PersonCenterDao">
   <select id="selectUserInfo" resultType="com.huacainfo.ace.hqgj.vo.UsersVo">
    select t.user_id userId, t.account, t.sex, t.idCard, t.userType, t.name, t.corpId,
      t.areaCode, t.birthday, t.status,t.mobile, t.email,  t.locked,t.lockedTime,o.id orgId,o.orgName orgName,o.contactPersonTel orgTel,
      m.id companyId,c.companyName,mu.unionId,mu.avatarUrl
        from portal_hqgj.users t
        left join hqgj.base_organization_member b on b.userId=t.user_id
        left join hqgj.base_organization o on b.orgId=o.id
        left join hqgj.base_company_member m on m.id=t.user_id
        left join hqgj.base_company c on c.id=m.companyId
        left join ace_hqgj_wxms.map_wechat_sys ms on ms.userId=t.user_id
        left join ace_hqgj_wxms.wechat_mini_user mu on mu.unionId=ms.unionId
        where t.user_id = #{userId}
   </select>
</mapper>
